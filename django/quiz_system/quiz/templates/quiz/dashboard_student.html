{% extends 'quiz/base.html' %}
{% block title %}Student Dashboard{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row flex-nowrap">
    
    <!-- Sidebar -->
    <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-light sidebar">
      <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 min-vh-100">
        <a href="/" class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-decoration-none">
          <span class="fs-5 fw-bold d-none d-sm-inline">Student Menu</span>
        </a>
        <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start w-100">
          <li class="nav-item w-100">
            <a href="{% url 'dashboard_student' %}" class="nav-link px-0 align-middle">
              <span class="d-none d-sm-inline">Dashboard</span>
            </a>
          </li>
          <li class="nav-item w-100">
            <a href="{% url 'edit_profile' %}" class="nav-link px-0 align-middle">
              <span class="d-none d-sm-inline">Edit Profile</span>
            </a>
          </li>
          <li class="nav-item w-100">
            <a href="{% url 'logout' %}" class="nav-link text-danger px-0 align-middle">
              <span class="d-none d-sm-inline">Logout</span>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div class="col py-3">
      <h2>Welcome, {{ request.user.name }} (Student)</h2>
      <h4 class="mt-4">Available Quizzes:</h4>
      <ul class="list-group mt-3">
        {% for quiz in quizzes %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ quiz.title }}
            <a href="{% url 'attempt_quiz' quiz.id %}" class="btn btn-sm btn-primary">Attempt</a>
          </li>
        {% empty %}
          <li class="list-group-item">No quizzes available.</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
